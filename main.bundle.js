(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=o(h,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var d=n(i[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},365:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"* {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    text-align: center\n}\n\n.title {\n    text-align: center;\n    padding: 24px;\n}\n\n.player-one-container,\n.player-two-container {\n    text-align: center;\n}\n\n.player-one-board,\n.player-two-board {\n    margin-bottom: 24px;\n}\n\n.board-container {\n    display: flex;\n    justify-content: center;\n    gap: 100px;\n}\n\n.cell {\n    border: none;\n    background-color: none;\n    border-right: 2px solid black;\n    border-bottom: 2px solid black;\n    width: 40px;\n    height: 40px;\n}\n\n.cell.available {\n    background-color: green;\n}\n\n.cell.unavailable {\n    background-color: red;\n}\n\n.cell.missed {\n    background-color: blue;\n}\n\n.cell.ship {\n    background-color: orange;\n}\n\n.cell.ship-hit {\n    background-color: red;\n}\n\n.row .cell:first-child {\n    border-left: 2px solid black;\n}\n\n.row:first-child .cell {\n    border-top: 2px solid black;\n}\n\n.row {\n    display: flex;\n}\n\n.orientation-btn,\n.reset-btn {\n    border: 2px solid #000;\n    background: none;\n    padding: 4px 8px;\n    border-radius: 6px;\n}\n\n.orientation-btn:hover,\n.reset-btn:hover {\n    background-color: #c2c2c2;\n}\n\n.message,\n.error-message,\n.orientation-btn {\n    margin-bottom: 10px;\n}",""]);const s=a},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r=n(72),o=n.n(r),i=n(825),a=n.n(i),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),p=n.n(u),h=n(113),f=n.n(h),m=n(365),g={};g.styleTagTransform=f(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p(),o()(m.A,g),m.A&&m.A.locals&&m.A.locals;const v=function(){const e=document.querySelector(".player-one-board"),t=document.querySelector(".player-two-board");function n(){const e=document.querySelector(".orientation-btn");e&&e.remove()}function r(e,t,n,r){e.addEventListener("mouseenter",(()=>{const e=_.previewCells(t,n);_.placementIsAvailable(t,n)?e.forEach((([e,t])=>{r.querySelector(`.row:nth-child(${e+1}) .cell:nth-child(${t+1})`).classList.add("available")})):e.forEach((([e,t])=>{r.querySelector(`.row:nth-child(${e+1}) .cell:nth-child(${t+1})`).classList.add("unavailable")}))})),e.addEventListener("mouseleave",(()=>{_.previewCells(t,n).forEach((([e,t])=>{r.querySelector(`.row:nth-child(${e+1}) .cell:nth-child(${t+1})`).classList.remove("available","unavailable")}))})),e.addEventListener("click",(()=>{_.placeShipOnGameBoard(t,n)}))}function o(e,t,n){e.addEventListener("click",(()=>{_.attackOnGameboardAt(t,n),_.playRound()}))}return document.querySelector(".message"),{renderMessage:function(e){document.querySelector(".message").textContent=e},renderErrorMessage:function(e){document.querySelector(".error-message").textContent=e},renderOrientationButton:function(e){n();const t=document.querySelector("body"),r=document.createElement("button");r.classList.add("orientation-btn"),r.textContent=e,r.addEventListener("click",(()=>{_.switchOrientation()})),t.appendChild(r)},removeOrientationButton:n,renderResetButton:function(){const e=document.querySelector("body"),t=document.createElement("button");t.classList.add("reset-btn"),t.textContent="reset",t.addEventListener("click",(()=>{_.initGame(),t.remove()})),e.appendChild(t)},renderBoard:function(n){const i="player1"===n.id?e:t;i.textContent="";const a=n.gameboard,s=n.id===_.getActivePlayer().id;for(let e=0;e<10;e++){const t=document.createElement("div");t.classList.add("row");for(let c=0;c<10;c++){const l=document.createElement("button");l.classList.add("cell");const d=a.hasShipAt(e,c),u=a.isHitAt(e,c);"shipPlacement"===_.getGameState()&&s?r(l,e,c,i):"play"!==_.getGameState()||s||o(l,e,c),d&&u?l.classList.add("ship-hit"):!d&&u?l.classList.add("missed"):d&&"computer"!=n.type?l.classList.add("ship"):l.classList.add("empty"),t.appendChild(l)}i.appendChild(t)}}}}(),b=v;class y{static ROWS=10;static COLS=10;constructor(){this._grid=[],this._missed=[],this._ships=[];for(let e=0;e<y.ROWS;e++){const e=[];for(let t=0;t<y.COLS;t++)e.push({shipRef:null,isHit:!1});this._grid.push(e)}}get grid(){return this._grid}get missed(){return this._missed}hasShipAt(e,t){return null!==this._grid[e][t].shipRef}isHitAt(e,t){return this._grid[e][t].isHit}#e(e,t,n,r){return"vertical"===r?t>=0&&t+e-1<y.ROWS&&n>=0&&n<y.COLS:n>=0&&n+e-1<y.COLS&&t>=0&&t<y.ROWS}#t(e,t,n,r){const o="vertical"===r?1:0,i="horizontal"===r?1:0;for(let r=0;r<e;r++){const e=t+o*r,a=n+i*r;if(this._grid[e][a].shipRef)return!0}return!1}isValidPosition(e,t,n,r){return this.#e(e,t,n,r)&&!this.#t(e,t,n,r)}placeShip(e,t,n,r){const o=e.length;if(!this.#e(o,t,n,r))throw new RangeError("Ship placement is out of the grid.");if(this.#t(o,t,n,r))throw new Error("Ship placement overlaps with another ship.");const i="vertical"===r?1:0,a="horizontal"===r?1:0;for(let r=0;r<o;r++){const o=t+i*r,s=n+a*r;this._grid[o][s].shipRef=e}this._ships.push(e)}receiveAttack(e,t){const n=this._grid[e][t],r=n.shipRef;r&&!n.isHit?r.hit():r||n.isHit||this._missed.push([e,t]),n.isHit=!0}isWin(){return this._ships.every((e=>e.isSunk()))}}const S=y,x=class{constructor(e="player1",t="real"){this._id=e,this._type=t,this._gameboard=new S}get id(){return this._id}get gameboard(){return this._gameboard}get type(){return this._type}},w=class{constructor(e){this._length=e,this._hitCount=0}get length(){return this._length}get hitCount(){return this._hitCount}hit(){this._hitCount+=1}isSunk(){return this._hitCount>=this._length}},C=function(){let e=[];return{generate:function(){for(let t=0;t<10;t++)for(let n=0;n<10;n++)e.push([t,n]);for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}},get:function(){return e.pop()}}}(),_=function(){let e="shipPlacement";const t=[5,4,3,3,2];let n,r,o,i=0,a=t[i],s="horizontal";function c(e){return Math.floor(Math.random()*e)}function l(){return o===n?r:n}function d(){o=o===n?r:n}function u(){e="gameEnd",b.renderBoard(l()),b.renderBoard(o),b.renderMessage(`Game ended! ${o.id} wins!`),b.renderResetButton()}function p(){if(l().gameboard.isWin())u();else{if(b.renderMessage(o===n?"Its player one's turn!":"Its player two's turn"),b.renderBoard(l()),b.renderBoard(o),"computer"===r.type&&o===r){let[e,t]=C.get();return n.gameboard.receiveAttack(e,t),b.renderBoard(l()),l().gameboard.isWin()?void u():(d(),void p())}d()}}return{initGame:function(){e="shipPlacement",n=new x("player1"),r=new x("player2","computer"),o=n,i=0,a=t[i],"computer"===r.type&&C.generate(),function(){for(let e=0;e<5;e++){const n=t[e],o=new w(n),i=r.gameboard;let a=!1;for(;!a;){const e=Math.random()<.5?"horizontal":"vertical",t="vertical"===e?10:10-n,r=c("vertical"===e?10-n:10),s=c(t);try{i.placeShip(o,r,s,e),a=!0}catch(e){}}}}(),b.renderOrientationButton(s),b.renderBoard(n),b.renderBoard(r),b.renderMessage(`Place your ships (${o.id})`)},getActivePlayer:function(){return o},getGameState:function(){return e},placementIsAvailable:function(e,t){return o.gameboard.isValidPosition(a,e,t,s)},hasShipOnGameboardAt:function(e,t){return o.gameboard.hasShipAt(e,t)},previewCells:function(e,t){const n=[];for(let r=0;r<a;r++){const o="vertical"===s?e+r:e,i="vertical"===s?t:t+r;o<10&&i<10&&n.push([o,i])}return n},placeShipOnGameBoard:function(n,r){try{const c=new w(a);o.gameboard.placeShip(c,n,r,s),b.renderBoard(o),b.renderErrorMessage(""),i+=1,a=t[i],5===i&&(e="play",b.removeOrientationButton(),p())}catch(e){b.renderErrorMessage(e)}},switchOrientation:function(){s="vertical"===s?"horizontal":"vertical",b.renderOrientationButton(s)},attackOnGameboardAt:function(e,t){o.gameboard.receiveAttack(e,t),b.renderBoard(o)},playRound:p}}();_.initGame()})();